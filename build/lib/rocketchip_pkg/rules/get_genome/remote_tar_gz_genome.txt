rule download_genome:
	output: "DATA/GENOME/chromFa.tar.gz"
	log: "00_logs/download_genome.log"
	resources:
		mem_mb = 1024 * 5, # Last number is memory in GB
		time = 60 * 24 * 1, # Last number is days
		#account = "publicgrp", # Placeholder for SLURM submission
		#partition = "high", # Placeholder for SLURM submission
	run:
		shell("mkdir 'DATA/GENOME' -p")
		shell("wget 'GENOME_LOCATION' -O '{output}' 2> '{log}'")

rule process_genome:
	input: "DATA/GENOME/chromFa.tar.gz"
	output: "DATA/GENOME/GENOME.fa"
	log: "00_logs/process_genome.log"
	resources:
		mem_mb = 1024 * 5, # Last number is memory in GB
		time = 60 * 24 * 1, # Last number is days
		#account = "publicgrp", # Placeholder for SLURM submission
		#partition = "high", # Placeholder for SLURM submission
	run:
		shell("tar -xzf {input} -C DATA/GENOME/")
		shell("cat DATA/GENOME/*.fa > {output} 2> {log}")
		shell("rm DATA/GENOME/chr*.fa")
